(function(e){function t(t){for(var i,n,a=t[0],p=t[1],d=t[2],u=0,l=[];u<a.length;u++)n=a[u],o[n]&&l.push(o[n][0]),o[n]=0;for(i in p)Object.prototype.hasOwnProperty.call(p,i)&&(e[i]=p[i]);c&&c(t);while(l.length)l.shift()();return s.push.apply(s,d||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],i=!0,a=1;a<r.length;a++){var p=r[a];0!==o[p]&&(i=!1)}i&&(s.splice(t--,1),e=n(n.s=r[0]))}return e}var i={},o={app:0},s=[];function n(t){if(i[t])return i[t].exports;var r=i[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],p=a.push.bind(a);a.push=t,a=a.slice();for(var d=0;d<a.length;d++)t(a[d]);var c=p;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var i=r("64a9"),o=r.n(i);o.a},"39aa":function(e){e.exports={$schema:"http://json-schema.org/draft-04/schema#",id:"http://nodeinfo.diaspora.software/ns/schema/1.0#",description:"NodeInfo schema version 1.0.",type:"object",additionalProperties:!1,required:["version","software","protocols","services","openRegistrations","usage","metadata"],properties:{version:{description:"The schema version, must be 1.0.",enum:["1.0"]},software:{description:"Metadata about server software in use.",type:"object",additionalProperties:!1,required:["name","version"],properties:{name:{description:"The canonical name of this server software.",enum:["diaspora","friendica","redmatrix"]},version:{description:"The version of this server software.",type:"string"}}},protocols:{description:"The protocols supported on this server.",type:"object",additionalProperties:!1,required:["inbound","outbound"],properties:{inbound:{description:"The protocols this server can receive traffic for.",type:"array",minItems:1,items:{enum:["buddycloud","diaspora","friendica","gnusocial","libertree","mediagoblin","pumpio","redmatrix","smtp","tent"]}},outbound:{description:"The protocols this server can generate traffic for.",type:"array",minItems:1,items:{enum:["buddycloud","diaspora","friendica","gnusocial","libertree","mediagoblin","pumpio","redmatrix","smtp","tent"]}}}},services:{description:"The third party sites this server can connect to via their application API.",type:"object",additionalProperties:!1,required:["inbound","outbound"],properties:{inbound:{description:"The third party sites this server can retrieve messages from for combined display with regular traffic.",type:"array",minItems:0,items:{enum:["appnet","gnusocial","pumpio"]}},outbound:{description:"The third party sites this server can publish messages to on the behalf of a user.",type:"array",minItems:0,items:{enum:["appnet","blogger","buddycloud","diaspora","dreamwidth","drupal","facebook","friendica","gnusocial","google","insanejournal","libertree","linkedin","livejournal","mediagoblin","myspace","pinterest","posterous","pumpio","redmatrix","smtp","tent","tumblr","twitter","wordpress","xmpp"]}}}},openRegistrations:{description:"Whether this server allows open self-registration.",type:"boolean"},usage:{description:"Usage statistics for this server.",type:"object",additionalProperties:!1,required:["users"],properties:{users:{description:"statistics about the users of this server.",type:"object",additionalProperties:!1,properties:{total:{description:"The total amount of on this server registered users.",type:"integer",minimum:0},activeHalfyear:{description:"The amount of users that signed in at least once in the last 180 days.",type:"integer",minimum:0},activeMonth:{description:"The amount of users that signed in at least once in the last 30 days.",type:"integer",minimum:0}}},localPosts:{description:"The amount of posts that were made by users that are registered on this server.",type:"integer",minimum:0},localComments:{description:"The amount of comments that were made by users that are registered on this server.",type:"integer",minimum:0}}},metadata:{description:"Free form key value pairs for software specific values. Clients should not rely on any specific key present.",type:"object",minProperties:0,additionalProperties:!0}}}},4465:function(e){e.exports={$schema:"http://json-schema.org/draft-04/schema#",id:"http://nodeinfo.diaspora.software/ns/schema/2.1#",description:"NodeInfo schema version 2.1.",type:"object",additionalProperties:!1,required:["version","software","protocols","services","openRegistrations","usage","metadata"],properties:{version:{description:"The schema version, must be 2.1.",enum:["2.1"]},software:{description:"Metadata about server software in use.",type:"object",additionalProperties:!1,required:["name","version"],properties:{name:{description:"The canonical name of this server software.",type:"string",pattern:"^[a-z0-9-]+$"},version:{description:"The version of this server software.",type:"string"},repository:{description:"The url of the source code repository of this server software.",type:"string"}}},protocols:{description:"The protocols supported on this server.",type:"array",minItems:1,items:{enum:["activitypub","buddycloud","dfrn","diaspora","libertree","ostatus","pumpio","tent","xmpp","zot"]}},services:{description:"The third party sites this server can connect to via their application API.",type:"object",additionalProperties:!1,required:["inbound","outbound"],properties:{inbound:{description:"The third party sites this server can retrieve messages from for combined display with regular traffic.",type:"array",minItems:0,items:{enum:["atom1.0","gnusocial","imap","pnut","pop3","pumpio","rss2.0","twitter"]}},outbound:{description:"The third party sites this server can publish messages to on the behalf of a user.",type:"array",minItems:0,items:{enum:["atom1.0","blogger","buddycloud","diaspora","dreamwidth","drupal","facebook","friendica","gnusocial","google","insanejournal","libertree","linkedin","livejournal","mediagoblin","myspace","pinterest","pnut","posterous","pumpio","redmatrix","rss2.0","smtp","tent","tumblr","twitter","wordpress","xmpp"]}}}},openRegistrations:{description:"Whether this server allows open self-registration.",type:"boolean"},usage:{description:"Usage statistics for this server.",type:"object",additionalProperties:!1,required:["users"],properties:{users:{description:"statistics about the users of this server.",type:"object",additionalProperties:!1,properties:{total:{description:"The total amount of on this server registered users.",type:"integer",minimum:0},activeHalfyear:{description:"The amount of users that signed in at least once in the last 180 days.",type:"integer",minimum:0},activeMonth:{description:"The amount of users that signed in at least once in the last 30 days.",type:"integer",minimum:0}}},localPosts:{description:"The amount of posts that were made by users that are registered on this server.",type:"integer",minimum:0},localComments:{description:"The amount of comments that were made by users that are registered on this server.",type:"integer",minimum:0}}},metadata:{description:"Free form key value pairs for software specific values. Clients should not rely on any specific key present.",type:"object",minProperties:0,additionalProperties:!0}}}},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var i=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[e._m(0),r("router-view")],1)},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"header"}},[r("h1",[e._v("Nodeinfo Validator")]),r("span",{attrs:{id:"nav"}},[r("a",{attrs:{href:"https://github.com/jhass/nodeinfo/",target:"_blank"}},[e._v("Nodeinfo")]),e._v(" | "),r("a",{attrs:{href:"https://github.com/rhaamo/nodeinfo_validator",target:"_blank"}},[e._v("source")])]),r("br"),r("br")])}],n=(r("034f"),r("2877")),a={},p=Object(n["a"])(a,o,s,!1,null,null,null),d=p.exports,c=r("8c4f"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"form"},[r("form",{on:{submit:e.validate}},[r("label",{attrs:{for:"url"}},[e._v("URL")]),e._v(" \n    "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],attrs:{id:"url",type:"text",name:"url",placeholder:"https://foo.example.com/",value:"https://pleroma.otter.sh"},domProps:{value:e.url},on:{input:function(t){t.target.composing||(e.url=t.target.value)}}}),e._v(" \n    "),r("input",{attrs:{type:"submit",value:"Validate"}}),e.url_error?r("p",[e._v(e._s(e.url_error))]):e._e(),r("br"),r("p",{attrs:{id:"validation_output"},domProps:{innerHTML:e._s(e.validation_checks)}})])])},l=[],m=(r("28a5"),r("aef6"),r("96cf"),r("3b8d")),h=r("783b"),f=r.n(h),v=r("bb4c"),b=r("39aa"),y=r("daad"),g=r("9c9e"),w=r("4465"),T=r("de30"),j={data:function(){return{url:"",url_error:"",validation_checks:""}},methods:{log:function(e){this.validation_checks+=e+"<br>",console.log(e)},fetchJson:function(e){var t=this;return window.fetch(e,{method:"GET",headers:{"Content-Type":"application/json"},dataType:"jsonp"}).then(function(r){if(r.ok)return r.json();t.log("Error while fetching "+e)}).catch(function(r){t.log("Error while fetching "+e+": "),t.log(r.message)})},validate:function(){var e=Object(m["a"])(regeneratorRuntime.mark(function e(t){var r,i,o,s,n,a,p,d,c,u,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.validation_checks="",this.url){e.next=6;break}return this.url_error="URL required",t.preventDefault(),e.abrupt("return");case 6:return r=this.url,r.endsWith("/")||(r+="/"),this.log("Validating Nodeinfo for: "+r),this.validation_checks+="<br>",i=null,o=r+".well-known/nodeinfo",e.prev=12,e.next=15,this.fetchJson(o);case 15:i=e.sent,e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](12),this.log("Network error: "+e.t0);case 21:if(console.log(i),i){e.next=25;break}return t.preventDefault(),e.abrupt("return");case 25:s=new f.a({schemaId:"id",allErrors:!1}),s.addMetaSchema(T),s.addSchema(v,"endpoint").addSchema(b,"1.0").addSchema(y,"1.1").addSchema(g,"2.0").addSchema(w,"2.1"),console.log(i),n=s.validate("endpoint",i),this.log("Schema validation result for the well-known endpoint:"),n?this.log("No error, endpoint valid"):this.log("Endpoint validation failed"),this.validation_checks+="<br>",a=0;case 34:if(!(a<i.links.length)){e.next=59;break}return p=i.links[a],d=p.href,c=p.rel.split("/").pop(),this.log("Validating nodeinfo "+c+": "+d),u=null,e.prev=40,e.next=43,this.fetchJson(d);case 43:u=e.sent,e.next=49;break;case 46:e.prev=46,e.t1=e["catch"](40),this.log("Network error: "+e.t1);case 49:if(u){e.next=52;break}return t.preventDefault(),e.abrupt("return");case 52:l=s.validate(c,u),this.log("Schema validation result for the Nodeinfo "+c+" schema:"),l?this.log("Nodeinfo "+c+" is valid."):(this.log("Nodeinfo "+c+" valiation failed"),console.log(l)),this.validation_checks+="<br>";case 56:a++,e.next=34;break;case 59:this.validation_checks+="Validation finished";case 60:case"end":return e.stop()}},e,this,[[12,18],[40,46]])}));function t(t){return e.apply(this,arguments)}return t}()}},P=j,k=(r("fd9f"),Object(n["a"])(P,u,l,!1,null,"82eef038",null)),x=k.exports;i["a"].use(c["a"]);var _=new c["a"]({routes:[{path:"/",name:"home",component:x}]});i["a"].config.productionTip=!1,new i["a"]({router:_,render:function(e){return e(d)}}).$mount("#app")},"64a9":function(e,t,r){},"876a":function(e,t,r){},"9c9e":function(e){e.exports={$schema:"http://json-schema.org/draft-04/schema#",id:"http://nodeinfo.diaspora.software/ns/schema/2.0#",description:"NodeInfo schema version 2.0.",type:"object",additionalProperties:!1,required:["version","software","protocols","services","openRegistrations","usage","metadata"],properties:{version:{description:"The schema version, must be 2.0.",enum:["2.0"]},software:{description:"Metadata about server software in use.",type:"object",additionalProperties:!1,required:["name","version"],properties:{name:{description:"The canonical name of this server software.",type:"string",pattern:"^[a-z0-9-]+$"},version:{description:"The version of this server software.",type:"string"}}},protocols:{description:"The protocols supported on this server.",type:"array",minItems:1,items:{enum:["activitypub","buddycloud","dfrn","diaspora","libertree","ostatus","pumpio","tent","xmpp","zot"]}},services:{description:"The third party sites this server can connect to via their application API.",type:"object",additionalProperties:!1,required:["inbound","outbound"],properties:{inbound:{description:"The third party sites this server can retrieve messages from for combined display with regular traffic.",type:"array",minItems:0,items:{enum:["atom1.0","gnusocial","imap","pnut","pop3","pumpio","rss2.0","twitter"]}},outbound:{description:"The third party sites this server can publish messages to on the behalf of a user.",type:"array",minItems:0,items:{enum:["atom1.0","blogger","buddycloud","diaspora","dreamwidth","drupal","facebook","friendica","gnusocial","google","insanejournal","libertree","linkedin","livejournal","mediagoblin","myspace","pinterest","pnut","posterous","pumpio","redmatrix","rss2.0","smtp","tent","tumblr","twitter","wordpress","xmpp"]}}}},openRegistrations:{description:"Whether this server allows open self-registration.",type:"boolean"},usage:{description:"Usage statistics for this server.",type:"object",additionalProperties:!1,required:["users"],properties:{users:{description:"statistics about the users of this server.",type:"object",additionalProperties:!1,properties:{total:{description:"The total amount of on this server registered users.",type:"integer",minimum:0},activeHalfyear:{description:"The amount of users that signed in at least once in the last 180 days.",type:"integer",minimum:0},activeMonth:{description:"The amount of users that signed in at least once in the last 30 days.",type:"integer",minimum:0}}},localPosts:{description:"The amount of posts that were made by users that are registered on this server.",type:"integer",minimum:0},localComments:{description:"The amount of comments that were made by users that are registered on this server.",type:"integer",minimum:0}}},metadata:{description:"Free form key value pairs for software specific values. Clients should not rely on any specific key present.",type:"object",minProperties:0,additionalProperties:!0}}}},bb4c:function(e){e.exports={$schema:"http://json-schema.org/draft-04/schema#",id:"http://nodeinfo.diaspora.software/ns/schema/endpoint#",description:"NodeInfo schema for endpoint",type:"object",additionalProperties:!1,required:["links"],properties:{links:{description:"The list of nodeinfo versions available.",type:"array",items:{type:"object",required:["rel","href"],properties:{rel:{type:"string",description:"The URL to the nodeinfo schema version",examples:["http://nodeinfo.diaspora.software/ns/schema/2.0"],pattern:"^(.*)$"},href:{type:"string",description:"The URL to the nodeinfo json",examples:["https://example.org/nodeinfo/2.0"],pattern:"^(.*)$"}}}}}}},daad:function(e){e.exports={$schema:"http://json-schema.org/draft-04/schema#",id:"http://nodeinfo.diaspora.software/ns/schema/1.1#",description:"NodeInfo schema version 1.1.",type:"object",additionalProperties:!1,required:["version","software","protocols","services","openRegistrations","usage","metadata"],properties:{version:{description:"The schema version, must be 1.1.",enum:["1.1"]},software:{description:"Metadata about server software in use.",type:"object",additionalProperties:!1,required:["name","version"],properties:{name:{description:"The canonical name of this server software.",enum:["diaspora","friendica","hubzilla","redmatrix"]},version:{description:"The version of this server software.",type:"string"}}},protocols:{description:"The protocols supported on this server.",type:"object",additionalProperties:!1,required:["inbound","outbound"],properties:{inbound:{description:"The protocols this server can receive traffic for.",type:"array",minItems:1,items:{enum:["buddycloud","diaspora","friendica","gnusocial","libertree","mediagoblin","pumpio","redmatrix","smtp","tent","zot"]}},outbound:{description:"The protocols this server can generate traffic for.",type:"array",minItems:1,items:{enum:["buddycloud","diaspora","friendica","gnusocial","libertree","mediagoblin","pumpio","redmatrix","smtp","tent","zot"]}}}},services:{description:"The third party sites this server can connect to via their application API.",type:"object",additionalProperties:!1,required:["inbound","outbound"],properties:{inbound:{description:"The third party sites this server can retrieve messages from for combined display with regular traffic.",type:"array",minItems:0,items:{enum:["appnet","gnusocial","pumpio"]}},outbound:{description:"The third party sites this server can publish messages to on the behalf of a user.",type:"array",minItems:0,items:{enum:["appnet","blogger","buddycloud","diaspora","dreamwidth","drupal","facebook","friendica","gnusocial","google","insanejournal","libertree","linkedin","livejournal","mediagoblin","myspace","pinterest","posterous","pumpio","redmatrix","smtp","tent","tumblr","twitter","wordpress","xmpp"]}}}},openRegistrations:{description:"Whether this server allows open self-registration.",type:"boolean"},usage:{description:"Usage statistics for this server.",type:"object",additionalProperties:!1,required:["users"],properties:{users:{description:"statistics about the users of this server.",type:"object",additionalProperties:!1,properties:{total:{description:"The total amount of on this server registered users.",type:"integer",minimum:0},activeHalfyear:{description:"The amount of users that signed in at least once in the last 180 days.",type:"integer",minimum:0},activeMonth:{description:"The amount of users that signed in at least once in the last 30 days.",type:"integer",minimum:0}}},localPosts:{description:"The amount of posts that were made by users that are registered on this server.",type:"integer",minimum:0},localComments:{description:"The amount of comments that were made by users that are registered on this server.",type:"integer",minimum:0}}},metadata:{description:"Free form key value pairs for software specific values. Clients should not rely on any specific key present.",type:"object",minProperties:0,additionalProperties:!0}}}},fd9f:function(e,t,r){"use strict";var i=r("876a"),o=r.n(i);o.a}});
//# sourceMappingURL=app.2b8993b7.js.map